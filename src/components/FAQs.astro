---
import faqs from '../data/schema/faqs.json';
---

<section class="faq-9 faq section" id="faq">
  <div class="container">
    <div class="row">

      <!-- Intro column -->
      <div class="col-lg-5" data-aos="fade-up">
        <h2 class="faq-title">Questions About Space for Neurodiversity?</h2>
        <p class="faq-description">
          Explore answers to common questions about our research, advocacy, education, and workplace inclusion programmes. 
          If your question isn’t listed here, please get in touch—we welcome feedback and inquiries from individuals, organisations, and the wider community.
        </p>
      </div>

      <!-- FAQ items -->
      <div class="col-lg-7" data-aos="fade-up" data-aos-delay="300">
        <div class="faq-container">
          {faqs?.length ? (
            faqs.map((faq, index) => (
              <div class={`faq-item${index === 0 ? ' faq-active' : ''}`} key={index}>
                <h3 class="faq-question">{faq.question}</h3>
                <div class="faq-content">
                  <p>{faq.answer}</p>
                  {faq.links?.length > 0 && (
                    <ul class="faq-links">
                      {faq.links.map((link, j) => (
                        <li key={j}>
                          <a href={link.url}>{link.text}</a>
                        </li>
                      ))}
                    </ul>
                  )}
                </div>
                <button class="faq-toggle" aria-label="Toggle FAQ">
                  <i class="bi bi-chevron-right"></i>
                </button>
              </div>
            ))
          ) : (
            <p>No FAQs available at the moment.</p>
          )}
        </div>
      </div>

    </div>
  </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const faqItems = document.querySelectorAll('.faq-item');
  
  faqItems.forEach(item => {
    const toggle = item.querySelector('.faq-toggle');
    toggle?.addEventListener('click', () => {
      item.classList.toggle('faq-active');
    });
  });
});
</script>